{{#
    @name Section info
    @desc a section wrapped in the main element from pages/info.antlers.html
#}}

<!-- sections/info.antlers.html -->
{{ partial:layout/section anchor="services" class="flex flex-col w-full gap-frame-2 lg:gap-frame py-frame" }}

   <h2 class="w-full text-center text-head-1 text-usercolor mix-blend-color-burn">How we work</h2>

   {{# very ugly but efficiemt tailwind selector: creating left right layout #}}
   <div class="[&>*:nth-child(even)>*:nth-child(even)>*]:justify-end [&>*:nth-child(even)>*:nth-child(even)>*]:right-0 [&>*:nth-child(even)>*:nth-child(odd)]:sm:order-1">
      
      {{ collection:infos sort="order" }}
         <div class="sm:grid w-full sm:min-h-screen sm:grid-cols-[1fr_1fr] gap-frame lg:gap-frame-3 p-frame xs:p-frame-4 sm:p-frame mix-blend-color-burn flex flex-col-reverse mb-8 sm:mb-0">
      
            {{# text #}}
            <div class="flex flex-col justify-center h-full mx-auto sm:min-w-[48ch]">
               <h2 class="mb-4 font-bold text-lead-0 text-usercolor"><span class="mr-2 font-mono text-[.8em] font-normal">{{index | add:1 }}</span> {{ title }}</h2>
               {{ partial:components/modaltext :handle="teaser" as="h3" class="text-lead-1 max-w-[30ch]" }}
            </div>
            
            {{# animation #}}
            <div class="relative w-full h-full">
               {{# animation maks #}}
               <div class="sm:absolute sm:h-full sm:w-[500vw] flex">
      
                  {{# lottie animation #}}
                  <div data-lottie="{{ animation }}" class="transition duration-1000 h-full [&_path]:stroke-red"></div>
               </div>
            </div>
         </div>
      
      {{ /collection:infos }}
   </div>
   
{{ /partial:layout/section }}