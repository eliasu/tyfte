{{#
    @name Section work
    @desc a section wrapped in the main element from pages/work.antlers.html
#}}


<!-- sections/work.antlers.html -->
{{ partial:layout/section anchor="work" class="flex flex-col w-full gap-frame py-frame snap-center" }}

    <div>
        <h2 class="w-full text-center touch:mb-1 text-head-1 text-usercolor mix-blend-color-burn translate-z-0">Our work</h2>
        <p class="hidden w-full text-center touch:block text-small-2 text-usercolor mix-blend-color-burn translate-z-0">tab or swipe</p>
    </div>

    {{# outer container fixed height #}}
    <div class="h-screen">

        {{# swiper Outer Wrapper #}}
        <div style="overflow:unset" id="swiper" class="md:!overflow-hidden relative max-md:w-[calc(100%-var(--frame)*2)] duration-500 swiper h-screen-d transition-height">
        
            {{# swiper wrapper #}}
            <div class="relative swiper-wrapper">
                
                {{# projects collection #}}
                {{ collection:projects sort='order' }}
        
                    {{# single slide #}}
                    <div data-swipercolor="{{ color_field }}" class="swiper-slide max-md:pr-frame-1/2 py-frame md:p-frame">
                        
                        
                        {{# video wrapper #}}
                        <div class="relative -z-50 w-full h-[calc(100%-var(--frame)*4)] sm:h-[calc(100%-var(--frame)*2)] mb-frame sm:mb-0 md:h-[calc(100%-var(--frame)*1)] lg:h-[calc(100%-var(--frame)*.5)] xl:h-full videowrap">
                            
                            {{# colaboration #}}
                            {{ if collaboration }}
                            <div data-collaboration class="absolute z-50 flex flex-col items-start text-light top-frame-1/2 left-frame-1/2 md:max-w-1/3">
                                {{ partial:components/tag text="collaboration" url="/" class="xs:mb-1 text-dark bg-light" }}
                                <div class="text-lead-1">{{ collaboration }}</div>
                            </div>
                            {{ /if }}
        
                            {{# video #}}
                            <video preload="none" muted playsinline loop id="{{ title }}-video" class="absolute inset-0 object-cover w-full h-full -z-20 bg-light/20" width="100%" height="100%">
                                <source src="{{ project_video:url | remove_right('.mp4') | ensure_right('.webm') }}" type="video/webm">
                                <source src="{{ project_video:url | remove_right('.webm') | ensure_right('.mp4') }}" type="video/mp4">                   
                            </video>
                        </div>
                        
                        {{# title #}}
                        <div class="absolute pointer-events-none left-frame bottom-frame-6 sm:bottom-frame-4 z-50 md:bottom-frame-2 lg:bottom-frame-1.5 xl:bottom-frame title-wrap">
                            <h2 class="w-1/2 text-swiper-big">{{ title }}</h2>
                        </div>
                        
                        
                        {{# project link #}}
                        <div class="relative flex items-center gap-2 pb-1 leading-none cursor-pointer sm:top-frame-1/3 md:top-frame-1/2 lg:top-frame-1/4 xl:top-0 w-fit h-frame title-link group text-dark hover:text-light">
                            <a data-mouse-shrink target="_blank" href="{{ website_address | ensure_left('https://') }}" class="relative truncate transition duration-300 group-hover:text-light text-lead-1 text-dark">{{ title }}</a>
                            <div data-icon="arrup" class="h-[1em] aspect-square bg-current group-hover:text-light transition duration-300"></div>
                        </div>
                    </div>
                {{ /collection:projects }}
            </div>
        
            <!-- pagination -->
            {{# pagination wrapper #}}
            <div class="absolute flex items-center md:left-auto left-0 bottom-frame sm:bottom-frame-1/2 lg:bottom-frame-1/4 xl:bottom-0 right-0 md:right-frame h-frame md:w-[calc(50%-var(--frame))] z-100 text-dark">
                {{# where pagination gets rendered in #}}
                <div class="cursor-pointer swiper-pagination" style="position:initial"></div>
            </div>
            <!-- navigation -->
            {{# navigation buttons #}}
            <div data-mouse-shrink id="prev" class="flex justify-center items-center absolute -left-frame md:left-0 w-1/4 cursor-pointer bottom-frame-5 sm:bottom-frame-3 md:bottom-frame-2 lg:bottom-frame-1.5 xl:bottom-frame top-frame swiper-button-disabled z-900 md:w-frame after:hidden">
                <div class="transition rotate-180 touch:hidden max-w-frame-1/2" id="prev_lottie"></div>
            </div>

            <div data-mouse-shrink id="next" class="flex justify-center items-center absolute -right-frame md:right-0 w-1/4 cursor-pointer bottom-frame-5 sm:bottom-frame-3 md:bottom-frame-2 lg:bottom-frame-1.5 xl:bottom-frame top-frame swiper-button-disabled z-900 md:w-frame after:hidden">
                <div class="transition touch:hidden max-w-frame-1/2" id="next_lottie"></div>
            </div>
        </div>
    </div>
{{ /partial:layout/section }}
<!-- End: sections/work.antlers.html -->