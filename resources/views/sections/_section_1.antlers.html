{{# @name Section 1 @desc a section wrapped in the main element from
pages/home.antlers.html #}}

<!-- sections/section_1.antlers.html -->
{{ partial:layout/section class="lg:pt-[50vh]" attr="data-section-1" }} 
    
    {{# main content grid #}}
    <div class="relative grid items-start w-full grid-cols-1 gap-24 lg:gap-8 lg:grid lg:grid-cols-2 p-frame">
        
        {{# sticky header wrapper #}}
        <div class="sticky -mb-[25vh] flex flex-col gap-10 lg:-translate-y-1/2 lg:top-1/2">
            
            <div class="relative h-60">
                
                {{# headline with tags wrapper #}}
                <div data-infoheader="init" class="absolute flex flex-col gap-10">
                    <h2 class="w-[12ch] text-head-1">{{ s1_title }}</h2>
                    
                    {{# tag wrapper #}} 
                    {{ partial:components/tags class="max-w-sm mb-8" }} 
                        {{ s1_tags }} 
                            {{ partial:components/tag class="{{ color }}" text="{{ title }}" url="/" }}
                        {{ /s1_tags }} 
                    {{ /partial:components/tags }} {{# Headline #}}
                </div>
                
                {{ s1_accordion_groups }}
                    {{# headline with tags wrapper #}}
                    <div data-infoheader="{{index}}" class="absolute flex flex-col gap-10 opacity-0">
                        <h2 class="w-[12ch] text-head-1">{{ headline }}</h2>
                        
                        {{# tag wrapper #}} 
                        {{ partial:components/tags class="max-w-sm mb-8" }} 
                            {{ tags }} 
                                {{ partial:components/tag class="{{ color }}" text="{{ title }}" url="/" }}
                            {{ /tags }} 
                        {{ /partial:components/tags }} {{# Headline #}}
                    </div>

                {{ /s1_accordion_groups }}
            </div>
            
            {{# Crowd Pleaser #}}
            <div id="crowdpleaser" class="flex-col self-start hidden uppercase translate-y-2 pointer-events-auto sm:flex right-frame bottom-frame text-small-1">
                <div id="cp_headline" class="flex items-center w-full h-6 duration-500 motion-safe:transition">
                    Crowd Pleaser
                </div>

                <div id="cp_slider_1" class="flex items-center justify-between w-full h-6 gap-4 duration-500 motion-safe:transition group">
                    <label id="cp_slider_1_label" for="cp_slider_1_input" class="block motion-safe:transition text-small-1 group-hover:text-yellow">
                        Colors
                    </label>
                    <input id="cp_slider_1_input" type="range" min="1" max="5" value="3"/>
                </div>

                <div id="cp_slider_2" class="flex items-center justify-between w-full h-6 gap-4 font-mono duration-500 motion-safe:transition group" >
                    <label id="cp_slider_2_label" for="cp_slider_2_input" class="block motion-safe:transition text-small-1 group-hover:text-yellow">
                        Pattern
                    </label>
                    <input id="cp_slider_2_input" type="range" value="50" />
                </div>
            </div>
        </div>

        {{# all accordion groups wrapper #}}
        <div id="info-accordion" class="relative flex flex-col gap-frame-3 lg:gap-60 pt-[50vh]" x-data="{selected: ''}">

            {{# loop through every accordion group #}}
            {{ s1_accordion_groups }}

                {{# accordion group wrapper #}}
                <div class="relative flex flex-col">
                    
                    {{# Headline #}}
                    <h2 class="text-head-accordion pl-frame lg:pl-6 mb-8 {{ color }}">{{ title }}</h2>

                    {{# loop all accordion items #}}
                    {{ accordion }}
                        
                        {{# single accordion item #}}
                        <button
                            type="button" 
                            class="relative flex flex-col overflow-hidden text-left transition bg-opacity-0 border-b-2 lg:border-none group p-frame lg:p-6 gap-frame-1/4 hover:bg-opacity-5 last-of-type:border-none {{ color }} {{ color | remove_left('text') | ensure_left('bg') }}"
                            x-data="accordion_states" 
                            @click="handleClick()" 
                            :class="open ? 'lg:-translate-x-frame-1/2' : ''"
                            :aria-expanded="open ? 'true' : 'false'"
                            aria-controls="accordion-panel-{{ index }}"
                        >
            
                            {{# wrapper title and icon #}}
                            <div class="relative flex items-center justify-between w-full lg:w-auto gap-frame-1/4">
                                
                                {{# title #}}
                                <h4 class="font-mono transition origin-left text-subhead-accordion" 
                                    :class="open ? 'scale-75 md:scale-50' : ''">
                                    {{ title }}
                                </h4>
            
                                {{# icon #}}
                                <div :class="open ? 'rotate-90' : ''" data-icon="arrup" class="h-[1.25em] duration-150 group-hover:rotate-90 aspect-square bg-current"></div>
                            </div>
            
                            {{# accordion content #}}
                            <div class="relative transition-all duration-500 max-w-prose" 
                                :class="open ? 'opacity-100 max-h-112' : 'opacity-0 max-h-0 -mt-frame-1/4'"
                                :aria-hidden="open ? 'false' : 'true'" 
                                aria-labelledby="accordion-header-{{ index }}"
                                id="accordion-panel-{{ index }}"
                            >
                                
                                <p data-type="accordion_no_obs" class="h-full text-lead-1 max-w-none">{{ description }}</p>
                            </div>
                        </button>
                    {{ /accordion }}
                </div>
            {{ /s1_accordion_groups }}
        </div>
    </div>

{{ /partial:layout/section }}
<!-- End: sections/section_1.antlers.html -->
