{{#
    @name Main navigation
    @desc The sites main navigation rendered on each page. There's a desktop and a mobile version.
#}}

<nav id="navigation" class="fixed inset-0 z-50 block transition-all duration-500 pointer-events-none mix-blend-lighten"
    :class="navOpen ? 'backdrop-blur-md' : ''"
    aria-label="{{ trans:strings.main_navigation }}" 
    x-data="{ navOpen: false }"
    x-trap.inert.noscroll="navOpen"
    @keyup.escape="navOpen = false"
    x-cloak
    >
    
    {{# open Nav #}}
    <div id="mobileNav" 
    class="absolute inset-0 flex flex-col items-center justify-center gap-0 text-center transition-all duration-500 sm:items-start border-dark p-frame bg-light/70"
    :class="navOpen ? 'border-frame sm:border-frame-0.5 opacity-100 pointer-events-auto' : 'border-0 opacity-0 pointer-events-none'"
    :aria-label="navOpen ? '{{ trans:strings.nav_close }}' : '{{ trans:strings.nav_open }}'"
    :aria-expanded="navOpen"
    >
        <a x-show="navOpen" x-transition:enter.delay.500ms href="/" class="relative cursor-pointer hover:text-red after:hover:bg-red-dark text-navlink text-dark">idea</a>
        <a x-show="navOpen" x-transition:enter.delay.600ms href="/" class="relative cursor-pointer hover:text-yellow after:hover:bg-yellow-dark text-navlink text-dark">consult</a>
        <a x-show="navOpen" x-transition:enter.delay.700ms href="/" class="relative cursor-pointer hover:text-green after:hover:bg-green-dark text-navlink text-dark">design</a>
        <a x-show="navOpen" x-transition:enter.delay.800ms href="/" class="relative cursor-pointer hover:text-purple after:hover:bg-purple-dark text-navlink text-dark">code</a>
        <a x-show="navOpen" x-transition:enter.delay.900ms href="/" class="relative cursor-pointer hover:text-dark-neutral after:hover:bg-dark text-navlink text-dark">our work</a>

        {{# button rapper #}}
        <div class="absolute inset-0 sm:left-auto z-30 flex flex-col items-center sm:items-end justify-between p-frame sm:p-frame-0.5">
            {{ partial:components/button class="text-dark hover:text-light" label="close" icon="close" }}
                x-show="navOpen"
                x-transition:enter.delay.500ms
                @click="alert('test')"
            {{ /partial:components/button }}

            {{ partial:components/button class="text-red hover:text-light" label="start project" icon="arrup" }}
                x-show="navOpen"
                x-transition:enter.delay.500ms
                @click.prevent="navOpen = false"
            {{ /partial:components/button }}
        </div>
    </div>

    {{# burger menu & cta 2 #}}
    <div class="absolute flex gap-8 pointer-events-auto top-frame right-frame">
            
        {{# start project button #}}
        {{ partial:components/button class="hidden lg:flex" label="start project" icon="arrup" }}
            x-show="!navOpen"
            x-transition:enter.delay.1000ms
        {{ /partial:components/button }}

        {{# burger button #}}
        <button id="burger" class="relative min-h-[1.5rem] flex flex-col justify-between cursor-pointer group"
                @click.prevent="navOpen = !navOpen"
                :aria-label="navOpen ? '{{ trans:strings.nav_close }}' : '{{ trans:strings.nav_open }}'"
                :aria-expanded="navOpen">
            
            {{# burger icon #}}
            <div x-show="!navOpen" x-transition:enter.duration.500ms class="h-1.5 lg:h-2 w-24 lg:w-30 bg-light group-hover:bg-yellow transition duration-500 group-hover:scale-x-50 group-hover:-translate-x-1/4" id="bar1"></div>    
            <div x-show="!navOpen" x-transition:enter.duration.500ms class="w-12 lg:w-15 h-1.5 lg:h-2 bg-light group-hover:bg-yellow transition duration-500 group-hover:translate-x-full" id="bar2"></div>
        </button>
    </div>

    {{# blur container #}}
    <div id="blur-container" class="fixed inset-0 transition-all duration-500" :class="navOpen ? 'blur-lg pointer-events-none' : ''">
        {{# Logo #}}
        <a href="/" class="absolute h-6 pointer-events-auto w-fit top-frame left-frame lg:h-8 cursor-none group" id="homeLink" aria-label="Back to home" title="Back to home">
            {{ svg:tyfte_logo class="w-full h-full" aria-hidden="true" }}
            {{ svg:tyfte_logo_main id="logoBigger" class="absolute -left-5 -top-[27px] lg:-top-[23px] pointer-events-none" aria-hidden="true" }}
        </a>

        {{# Thank you message right top #}}
        <div class="absolute right-0 origin-top-right -rotate-90 -translate-x-6 translate-y-4 top-frame-2 lg:top-0 text-tag text-light">Thank you for 
            <span class="relative inline-block font-bold text-transparent transition-all bg-clip-text bg-light" id="loveCount">{{ love_counter:count }}</span> loves
        </div>

        {{# Three Liner #}}
        <p class="absolute mb-0 pointer-events-auto bottom-frame left-frame text-lead-2">
            We consult.<br>
            We design.<br>
            We code.
        </p>

        <div class="absolute bottom-0 pointer-events-auto">

            {{# <input type="checkbox" id="checkbox" x-model="show">

            <label for="checkbox" x-text="show"></label> #}}



        </div>


        {{# Crowd Pleaser #}}
        <div id="crowdpleaser" class="absolute flex-col hidden uppercase translate-y-2 pointer-events-auto sm:flex right-frame bottom-frame text-crowd">
            
            <div id="cp_headline" class="flex items-center w-full h-6 duration-500 motion-safe:transition">Crowd Pleaser</div>
            
            <div id="cp_slider_1" class="flex items-center justify-between w-full h-6 gap-4 duration-500 motion-safe:transition group">
                <label id="cp_slider_1_label" for="cp_slider_1_input" class="block motion-safe:transition text-crowd group-hover:text-yellow">Colors</label>
                <input id="cp_slider_1_input" type="range" min="1" max="5" value="3">
            </div>
            
            <div id="cp_slider_2" class="flex items-center justify-between w-full h-6 gap-4 font-mono duration-500 motion-safe:transition group">
                <label id="cp_slider_2_label" for="cp_slider_2_input" class="block motion-safe:transition text-crowd group-hover:text-yellow">Pattern</label>
                <input id="cp_slider_2_input" type="range" value="50">
            </div>
        </div>
        
    </div>
    
</nav>

